#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

void menu() {
	puts("1. ls\n2. pwd\n3. find\n");
}

int main() {
	char find[] = "/bin/find";
	char pwd[] = "/bin/pwd";
	char ls[] = "/bin/ls";
	char buf[8];

	menu();
	gets(buf); /* <--- buffer overflow */
	int choice = atoi(buf);
	switch (choice) {
		case 1:
			printf("Executing %s\n", ls);
			execve(ls, NULL, NULL);
			break;
		case 2:
			printf("Executing %s\n", pwd);
			execve(pwd, NULL, NULL);
			break;
		case 3:
			printf("Executing %s\n", find);
			execve(find, NULL, NULL);
			break;
		default:
			puts("Invalid choice!");
			break;
	}
	return 0;
}
